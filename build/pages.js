(()=>{"use strict";const e=window.React,t=()=>(0,e.createElement)("header",{className:"pf-hero"},(0,e.createElement)("p",{className:"title"},"Pattern Friend"),(0,e.createElement)("p",{className:"subtitle"},"Extend the Default")),n=window.wp.element,a=window.wp.components;var l;function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r.apply(null,arguments)}var o,s=function(t){return e.createElement("svg",r({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"#FFF",viewBox:"0 -960 960 960"},t),l||(l=e.createElement("path",{d:"M840-680v480q0 33-23.5 56.5T760-120H200q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h480zm-80 34L646-760H200v560h560zM480-240q50 0 85-35t35-85-35-85-85-35-85 35-35 85 35 85 85 35M240-560h360v-160H240zm-40-86v446-560z"})))};function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i.apply(null,arguments)}var c=function(t){return e.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 -960 960 960"},t),o||(o=e.createElement("path",{d:"M520-330v-60h160v60zm60 210v-50h-60v-60h60v-50h60v160zm100-50v-60h160v60zm40-110v-160h60v50h60v60h-60v50zm111-280h-83q-26-88-99-144t-169-56q-117 0-198.5 81.5T200-480q0 72 32.5 132t87.5 98v-110h80v240H160v-80h94q-62-50-98-122.5T120-480q0-75 28.5-140.5t77-114 114-77T480-840q129 0 226.5 79.5T831-560"})))};const h=JSON.parse('{"B":{"mobileMaxThreshold":600,"tabletMaxThreshold":1024}}'),m=()=>(0,e.createElement)("div",{className:"pf-form-loading-overlay"},(0,e.createElement)("div",{className:"pf-form-loading-animation"})),u=()=>{const[t,l]=(0,n.useState)(""),[r,o]=(0,n.useState)(""),[i,u]=(0,n.useState)(""),[p,d]=(0,n.useState)(!0),[v,f]=(0,n.useState)(!1);return(0,e.useEffect)((()=>{wp.apiFetch({path:"/wp-pattern-friend/v2.2/options/block_visibility"}).then((e=>{l(e.pattern_friend_mobile_max_threshold),o(e.pattern_friend_tablet_max_threshold),d(!1)}))}),[]),(0,e.useEffect)((()=>{parseInt(t)>parseInt(r)?u("The mobile threshold must be less than the tablet threshold."):u(t===r?"The thresholds should not be the same. Equal thresholds will lead to no tablet support.":"")}),[t,r]),(0,e.createElement)(a.PanelBody,{title:"Device Visibility Thresholds"},(0,e.createElement)("div",{className:p&&"pf-form-loading"},(0,e.createElement)(a.PanelRow,null,(0,e.createElement)(a.__experimentalNumberControl,{label:"Mobile Max Threshold",help:"The maximum width in pixels for mobile devices.",value:t,onChange:e=>{parseInt(e)<0&&(e=0),l(e)},type:"number"})),(0,e.createElement)(a.PanelRow,null,(0,e.createElement)(a.__experimentalNumberControl,{label:"Tablet Max Threshold",help:"The maximum width in pixels for tablet devices.",value:r,onChange:e=>{parseInt(e)<0&&(e=0),o(e)},type:"number"})),(0,e.createElement)(a.PanelRow,{className:"pf-align-left"},(0,e.createElement)(a.Button,{onClick:()=>{const e=h.B;l(e.mobileMaxThreshold),o(e.tabletMaxThreshold)},variant:"secondary",icon:(0,e.createElement)(c,null)},"Load Default"),(0,e.createElement)(a.Button,{onClick:()=>{d(!0),wp.apiFetch({path:"/wp-pattern-friend/v2.2/options/block_visibility",method:"POST",data:{pattern_friend_mobile_max_threshold:t,pattern_friend_tablet_max_threshold:r}}).then((e=>{d(!1),f(!0)}))},variant:"primary",icon:(0,e.createElement)(s,null)},"Save")),t===r&&(0,e.createElement)(a.PanelRow,null,(0,e.createElement)(a.Notice,{status:"warning"},"The thresholds should not be the same. Equal thresholds will lead to no tablet support.")),""!==i&&(0,e.createElement)(a.PanelRow,null,(0,e.createElement)(a.Notice,{status:"error"},i)),v&&(0,e.createElement)(a.PanelRow,null,(0,e.createElement)(a.Notice,{status:"success"},"Options saved successfully!"))),p&&(0,e.createElement)(m,null))},p=()=>{const[t,l]=(0,n.useState)(),[r,o]=(0,n.useState)(""),[i,c]=(0,n.useState)(!0),[h,u]=(0,n.useState)(!1);return(0,e.useEffect)((()=>{wp.apiFetch({path:"/wp-pattern-friend/v2.2/options/header_footer"}).then((e=>{l(e.pattern_friend_header_sticky),c(!1)}))}),[]),(0,e.createElement)(a.PanelBody,{title:"Header"},(0,e.createElement)("div",{className:i&&"pf-form-loading"},(0,e.createElement)(a.PanelRow,null,(0,e.createElement)(a.CheckboxControl,{label:"Sticky Header",help:"Want the header (logo & navigation) to stick to the top of the page when scrolling? Note that this functionality is limited to the theme.",checked:"true"==t,onChange:e=>{l(e?"true":"false")}})),(0,e.createElement)(a.PanelRow,null,(0,e.createElement)(a.Button,{onClick:()=>{c(!0),wp.apiFetch({path:"/wp-pattern-friend/v2.2/options/header_footer",method:"POST",data:{pattern_friend_header_sticky:t}}).then((e=>{c(!1),u(!0)}))},variant:"primary",icon:(0,e.createElement)(s,null)},"Save")),h&&(0,e.createElement)(a.PanelRow,null,(0,e.createElement)(a.Notice,{status:"success"},"Options saved successfully!"))),i&&(0,e.createElement)(m,null))};var d;function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},v.apply(null,arguments)}var f=function(t){return e.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,fill:"#FFF",viewBox:"0 -960 960 960"},t),d||(d=e.createElement("path",{d:"M440-280H280q-83 0-141.5-58.5T80-480t58.5-141.5T280-680h160v80H280q-50 0-85 35t-35 85 35 85 85 35h160zM320-440v-80h320v80zm200 160v-80h160q50 0 85-35t35-85-35-85-85-35H520v-80h160q83 0 141.5 58.5T880-480t-58.5 141.5T680-280z"})))};const E=()=>(0,e.createElement)(a.PanelBody,{title:"Dynamic CSS"},(0,e.createElement)(a.PanelRow,null,(0,e.createElement)("p",null,"If you have issues understanding the effects by Pattern Friend on the front-end, reading the generated (dynamic) CSS file might use useful. Note that this file is based on a template.")),(0,e.createElement)(a.PanelRow,null,(0,e.createElement)("a",{href:"/wp-content/plugins/pattern_friend/src/styles/dynamic.css",target:"_blank"},(0,e.createElement)(a.Button,{variant:"primary",icon:(0,e.createElement)(f,null)},"Open Dynamic CSS File")))),w=()=>{const[t,l]=(0,n.useState)(!1);return(0,e.useEffect)((()=>{wp.apiFetch({path:"/wp-pattern-friend/v2.2/checks/block_support"}).then((e=>{console.log(e),l(e)}))}),[]),t?(0,e.createElement)(e.Fragment,null):(0,e.createElement)(a.Notice,{status:"error",isDismissible:!1},"Current theme doesn't support blocks. Pattern Friend might not work properly.")},{render:b}=wp.element,g=document.getElementById("pf-react-app");g&&b((0,e.createElement)((()=>(0,e.createElement)(a.__experimentalVStack,null,(0,e.createElement)(w,null),(0,e.createElement)(t,null),(0,e.createElement)(a.Card,null,(0,e.createElement)(a.CardHeader,null,"Options"),(0,e.createElement)(u,null),(0,e.createElement)(p,null)),(0,e.createElement)(a.Card,null,(0,e.createElement)(a.CardHeader,null,"Tools"),(0,e.createElement)(E,null)))),null),g)})();