{"version":3,"file":"block-visibility.js","mappings":"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","sources":["webpack://pattern_friend/external window \"React\"","webpack://pattern_friend/external window [\"wp\",\"blockEditor\"]","webpack://pattern_friend/external window [\"wp\",\"components\"]","webpack://pattern_friend/external window [\"wp\",\"compose\"]","webpack://pattern_friend/external window [\"wp\",\"hooks\"]","webpack://pattern_friend/external window [\"wp\",\"i18n\"]","webpack://pattern_friend/webpack/bootstrap","webpack://pattern_friend/webpack/runtime/compat get default export","webpack://pattern_friend/webpack/runtime/define property getters","webpack://pattern_friend/webpack/runtime/hasOwnProperty shorthand","webpack://pattern_friend/webpack/runtime/make namespace object","webpack://pattern_friend/./src/block-visibility.js"],"sourcesContent":["module.exports = window[\"React\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"compose\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { addFilter } from '@wordpress/hooks'\r\nimport { InspectorControls } from '@wordpress/block-editor'\r\nimport { Panel, PanelBody, ToggleControl, PanelRow, SelectControl } from '@wordpress/components'\r\nimport { __ } from '@wordpress/i18n'\r\nimport { createHigherOrderComponent } from '@wordpress/compose'\r\nimport { Notice } from '@wordpress/components'\r\n\r\n// Add the new attributes to the supported blocks.\r\naddFilter(\r\n\t'blocks.registerBlockType',\r\n\t'wp-pattern-friend/modify-block-visibility-attributes', (settings, name) => {\r\n\t\treturn {\r\n\t\t\t...settings,\r\n\t\t\tattributes: {\r\n\t\t\t\t...settings.attributes,\r\n\r\n\t\t\t\t'pf_hide_on_mobile': {\r\n\t\t\t\t\ttype: 'boolean',\r\n\t\t\t\t\tdefault: false,\r\n\t\t\t\t},\r\n\t\t\t\t'pf_hide_on_tablet': {\r\n\t\t\t\t\ttype: 'boolean',\r\n\t\t\t\t\tdefault: false,\r\n\t\t\t\t},\r\n\t\t\t\t'pf_hide_on_computer': {\r\n\t\t\t\t\ttype: 'boolean',\r\n\t\t\t\t\tdefault: false,\r\n\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t\t'pf_hidable': {\r\n\t\t\t\t\ttype: 'boolean',\r\n\t\t\t\t\tdefault: false,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n)\r\n\r\n/**\r\n * Generate block device visibility form.\r\n */\r\nfunction VisibilityForm(props) {\r\n\tconst {\r\n\t\tattributes: {\r\n\t\t\t'pf_hide_on_mobile': pf_hide_on_mobile,\r\n\t\t\t'pf_hide_on_tablet': pf_hide_on_tablet,\r\n\t\t\t'pf_hide_on_computer': pf_hide_on_computer,\r\n\t\t},\r\n\t\tsetAttributes,\r\n\t} = props\r\n\r\n\treturn (\r\n\t\t\t\t<PanelBody title={__(\"Device Visibility\")}>\r\n\t\t\t\t\t<PanelRow>\r\n\t\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t\tlabel={__(\"Hide on mobile\")}\r\n\t\t\t\t\t\t\tchecked={ pf_hide_on_mobile }\r\n\t\t\t\t\t\t\tonChange={ () => setAttributes( { 'pf_hide_on_mobile': ! pf_hide_on_mobile } ) }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</PanelRow>\r\n\t\t\t\t\t<PanelRow>\r\n\t\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t\tlabel={__(\"Hide on tablet\")}\r\n\t\t\t\t\t\t\tchecked={ pf_hide_on_tablet }\r\n\t\t\t\t\t\t\tonChange={ () => setAttributes( { 'pf_hide_on_tablet': ! pf_hide_on_tablet } ) }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</PanelRow>\r\n\t\t\t\t\t<PanelRow>\r\n\t\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t\tlabel={__(\"Hide on computer\")}\r\n\t\t\t\t\t\t\tchecked={ pf_hide_on_computer }\r\n\t\t\t\t\t\t\tonChange={ () => setAttributes( { 'pf_hide_on_computer': ! pf_hide_on_computer } ) }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</PanelRow>\r\n\t\t\t\t\t{pf_hide_on_mobile && pf_hide_on_tablet && pf_hide_on_computer && (\r\n\t\t\t\t\t\t<PanelRow>\r\n\t\t\t\t\t\t\t<Notice status=\"warning\" isDismissible={false}>You're hiding the block on all devices.</Notice>\r\n\t\t\t\t\t\t</PanelRow>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</PanelBody>\r\n\t)\r\n}\r\n\r\n/**\r\n * Generate form for setting hidable settings.\r\n */\r\nfunction HidableSettingsForm(props) {\r\n\tconst {\r\n\t\tattributes: {\r\n\t\t\t'pf_hidable': pf_hidable,\r\n\t\t},\r\n\t\tsetAttributes,\r\n\t} = props\r\n\r\n\treturn (\r\n\t\t\t\t<PanelBody title={__(\"Hidable Settings\")}>\r\n\t\t\t\t\t<PanelRow>\r\n\t\t\t\t\t\t<ToggleControl\r\n\t\t\t\t\t\t\tlabel={__(\"Hidable\")}\r\n\t\t\t\t\t\t\thelp={__(\"Allow the user to hide this block.\")}\r\n\t\t\t\t\t\t\tchecked={ pf_hidable }\r\n\t\t\t\t\t\t\tonChange={ () => setAttributes( { 'pf_hidable': ! pf_hidable } ) }\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</PanelRow>\r\n\t\t\t\t</PanelBody>\r\n\t)\r\n}\r\n\r\n// Add the new attributes to the block edit component.\r\naddFilter(\r\n    'editor.BlockEdit',\r\n    'wp-pattern-friend/add-device-visibility-controls',\r\n    createHigherOrderComponent( BlockEdit => {\r\n        return props => {\r\n\r\n            // Get the current attributes\r\n            const { attributes } = props\r\n            const { pf_hide_on_mobile, pf_hide_on_tablet, pf_hide_on_computer } = attributes\r\n\r\n\t\t\tlet wrappedElement = <BlockEdit { ...props } />\r\n\t\t\tif (pf_hide_on_mobile || pf_hide_on_tablet || pf_hide_on_computer) {\r\n\t\t\t\tlet wrapperElementClasses = `\r\n\t\t\t\t\t${pf_hide_on_mobile ? ' pf-hide-on-mobile' : ''}\r\n\t\t\t\t\t${pf_hide_on_tablet ? ' pf-hide-on-tablet' : ''}\r\n\t\t\t\t\t${pf_hide_on_computer ? ' pf-hide-on-desktop' : ''}\r\n\t\t\t\t\t`\r\n\t\t\t\twrappedElement = <div className={wrapperElementClasses}>{wrappedElement}</div>\r\n\t\t\t}\r\n\r\n            // Render the block edit component\r\n            return(\r\n\t\t\t\t<>\r\n\t\t\t\t\t<InspectorControls>\r\n\t\t\t\t\t\t<Panel header=\"Pattern Friend\">\r\n\t\t\t\t\t\t\t<VisibilityForm { ...props } />\r\n\t\t\t\t\t\t\t<HidableSettingsForm { ...props } />\r\n\t\t\t\t\t\t</Panel>\r\n\t\t\t\t\t</InspectorControls>\r\n\t\t\t\t\t{wrappedElement}\r\n\t\t\t\t</>\r\n\t\t\t)\r\n        }\r\n    }),\r\n)\r\n\r\n"],"names":["addFilter","InspectorControls","Panel","PanelBody","ToggleControl","PanelRow","SelectControl","__","createHigherOrderComponent","Notice","settings","name","attributes","type","default","VisibilityForm","props","pf_hide_on_mobile","pf_hide_on_tablet","pf_hide_on_computer","setAttributes","createElement","title","label","checked","onChange","status","isDismissible","HidableSettingsForm","pf_hidable","help","BlockEdit","wrappedElement","wrapperElementClasses","className","Fragment","header"],"sourceRoot":""}