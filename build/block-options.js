(()=>{"use strict";const e=window.React,t=window.wp.hooks,o=window.wp.blockEditor,l=window.wp.components,n=window.wp.i18n,r=window.wp.compose,i=["core/paragraph","core/heading","core/list","core/image","core/quote","core/separator","core/spacer","core/cover","core/file","core/video","core/audio","core/columns","core/column","core/button","core/media-text","core/shortcode","core/pullquote","core/table","core/preformatted","core/code","core/html","core/page-list","core/navigation"];function a(t){const{attributes:{hideOnMobile:r,hideOnTablet:i,hideOnComputer:a},setAttributes:c}=t;return(0,e.createElement)(o.InspectorControls,null,(0,e.createElement)(l.PanelBody,{title:(0,n.__)("Device Visibility")},(0,e.createElement)(l.PanelRow,null,(0,e.createElement)(l.ToggleControl,{label:(0,n.__)("Hide on mobile"),checked:r,onChange:()=>c({hideOnMobile:!r})})),(0,e.createElement)(l.PanelRow,null,(0,e.createElement)(l.ToggleControl,{label:(0,n.__)("Hide on tablet"),checked:i,onChange:()=>c({hideOnTablet:!i})})),(0,e.createElement)(l.PanelRow,null,(0,e.createElement)(l.ToggleControl,{label:(0,n.__)("Hide on computer"),checked:a,onChange:()=>c({hideOnComputer:!a})})),r&&i&&a&&(0,e.createElement)(l.PanelRow,null,(0,e.createElement)("p",{style:{color:"red"}},"You're hiding the block on all devices."))))}(0,t.addFilter)("blocks.registerBlockType","wp-pattern-friend/modify-block-options-attributes",((e,t)=>i.includes(t)?{...e,attributes:{...e.attributes,hideOnMobile:{type:"boolean",default:!1},hideOnTablet:{type:"boolean",default:!1},hideOnComputer:{type:"boolean",default:!1}}}:e)),(0,t.addFilter)("editor.BlockEdit","wp-pattern-friend/add-device-visibility-controls",(0,r.createHigherOrderComponent)((t=>o=>{if(!i.includes(o.name))return(0,e.createElement)(t,{...o});const{attributes:l,setAttributes:n}=o,{hideOnMobile:r,hideOnTablet:c,hideOnDesktop:d}=l;let s=o.className?o.className.replaceAll(/wp-pf-hide-on-mobile|wp-pf-hide-on-tablet|wp-pf-hide-on-desktop/g,""):"";return s+=r&&" wp-pf-hide-on-mobile",s+=c&&" wp-pf-hide-on-tablet",s+=d&&" wp-pf-hide-on-desktop",s!==o.className&&n({className:s}),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a,{...o}),(0,e.createElement)(t,{...o,className:s}))})))})();