(()=>{"use strict";const e=window.React,t=window.wp.hooks,o=window.wp.blockEditor,n=window.wp.components,l=window.wp.i18n,r=window.wp.compose,c=["core/paragraph","core/heading","core/list","core/image","core/quote","core/separator","core/spacer","core/cover","core/file","core/video","core/audio","core/columns","core/column","core/button","core/media-text","core/shortcode","core/pullquote","core/table","core/preformatted","core/code","core/html","core/page-list","core/navigation"];function i(t){const{attributes:{wp_pf_hide_on_mobile:r,wp_pf_hide_on_tablet:c,wp_pf_hide_on_computer:i},setAttributes:a}=t;return(0,e.createElement)(o.InspectorControls,null,(0,e.createElement)(n.Panel,{header:"WP Pattern Friend"},(0,e.createElement)(n.PanelBody,{title:(0,l.__)("Device Visibility")},(0,e.createElement)(n.PanelRow,null,(0,e.createElement)(n.ToggleControl,{label:(0,l.__)("Hide on mobile"),checked:r,onChange:()=>a({wp_pf_hide_on_mobile:!r})})),(0,e.createElement)(n.PanelRow,null,(0,e.createElement)(n.ToggleControl,{label:(0,l.__)("Hide on tablet"),checked:c,onChange:()=>a({wp_pf_hide_on_tablet:!c})})),(0,e.createElement)(n.PanelRow,null,(0,e.createElement)(n.ToggleControl,{label:(0,l.__)("Hide on computer"),checked:i,onChange:()=>a({wp_pf_hide_on_computer:!i})})),r&&c&&i&&(0,e.createElement)(n.PanelRow,null,(0,e.createElement)("p",{style:{color:"red"}},"You're hiding the block on all devices.")))))}(0,t.addFilter)("blocks.registerBlockType","wp-pattern-friend/modify-block-options-attributes",((e,t)=>c.includes(t)?{...e,attributes:{...e.attributes,wp_pf_hide_on_mobile:{type:"boolean",default:!1},wp_pf_hide_on_tablet:{type:"boolean",default:!1},wp_pf_hide_on_computer:{type:"boolean",default:!1}}}:e)),(0,t.addFilter)("editor.BlockEdit","wp-pattern-friend/add-device-visibility-controls",(0,r.createHigherOrderComponent)((t=>o=>{if(!c.includes(o.name))return(0,e.createElement)(t,{...o});const{attributes:n}=o,{wp_pf_hide_on_mobile:l,wp_pf_hide_on_tablet:r,wp_pf_hide_on_computer:a}=n;let p=(0,e.createElement)(t,{...o});if(l||r||a){let t="";l&&(t+=" wp-pf-hide-on-mobile"),r&&(t+=" wp-pf-hide-on-tablet"),a&&(t+=" wp-pf-hide-on-desktop"),p=(0,e.createElement)("div",{className:t},p)}return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i,{...o}),p)})))})();