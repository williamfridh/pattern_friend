(()=>{"use strict";const e=window.React,t=window.wp.hooks,l=window.wp.blockEditor,n=window.wp.components,o=window.wp.i18n,a=window.wp.compose;function i(t){const{attributes:{pf_hide_on_mobile:l,pf_hide_on_tablet:a,pf_hide_on_computer:i},setAttributes:_}=t;return(0,e.createElement)(n.PanelBody,{title:(0,o.__)("Device Visibility")},(0,e.createElement)(n.PanelRow,null,(0,e.createElement)(n.ToggleControl,{label:(0,o.__)("Hide on mobile"),checked:l,onChange:()=>_({pf_hide_on_mobile:!l})})),(0,e.createElement)(n.PanelRow,null,(0,e.createElement)(n.ToggleControl,{label:(0,o.__)("Hide on tablet"),checked:a,onChange:()=>_({pf_hide_on_tablet:!a})})),(0,e.createElement)(n.PanelRow,null,(0,e.createElement)(n.ToggleControl,{label:(0,o.__)("Hide on computer"),checked:i,onChange:()=>_({pf_hide_on_computer:!i})})),l&&a&&i&&(0,e.createElement)(n.PanelRow,null,(0,e.createElement)(n.Notice,{status:"warning",isDismissible:!1},"You're hiding the block on all devices.")))}function _(t){const{attributes:{pf_hidable:l,pf_hidable_button_text:a,pf_hidable_button_text_color:i,pf_hidable_button_background_color:_,pf_hidable_button_height:r,pf_hidable_button_width:b,pf_hidable_button_position:d},setAttributes:u}=t;return(0,e.createElement)(n.PanelBody,{title:(0,o.__)("Hidable Settings")},(0,e.createElement)(n.PanelRow,null,(0,e.createElement)(n.ToggleControl,{label:(0,o.__)("Hidable"),help:(0,o.__)("Allow the user to hide this block."),checked:l,onChange:()=>u({pf_hidable:!l})})),l&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.PanelRow,null,(0,e.createElement)(n.__experimentalInputControl,{label:"Button Text",value:a,onChange:e=>u({pf_hidable_button_text:e})})),(0,e.createElement)(n.PanelRow,null,(0,e.createElement)(n.ColorPicker,{label:"Button Text Color",enableAlpha:!0,defaultValue:i,onChange:e=>u({pf_hidable_button_text_color:e})})),(0,e.createElement)(n.PanelRow,null,(0,e.createElement)(n.ColorPicker,{label:"Button Background Color",enableAlpha:!0,defaultValue:_,onChange:e=>u({pf_hidable_button_background_color:e})})),(0,e.createElement)(n.PanelRow,null,(0,e.createElement)(n.__experimentalNumberControl,{label:"Button Height",value:r,onChange:e=>u({pf_hidable_button_height:e})})),(0,e.createElement)(n.PanelRow,null,(0,e.createElement)(n.__experimentalNumberControl,{label:"Button Width",value:b,onChange:e=>u({pf_hidable_button_width:e})})),(0,e.createElement)(n.PanelRow,null,(0,e.createElement)(n.SelectControl,{label:"Button Position",value:d,options:[{label:"Inline",value:"inline"},{label:"Top Right",value:"top-right"},{label:"Top Left",value:"top-left"},{label:"Bottom Right",value:"bottom-right"},{label:"Bottom Left",value:"bottom-left"}],onChange:e=>u({pf_hidable_button_position:e})}))))}(0,t.addFilter)("blocks.registerBlockType","wp-pattern-friend/modify-block-visibility-attributes",((e,t)=>({...e,attributes:{...e.attributes,pf_hide_on_mobile:{type:"boolean",default:!1},pf_hide_on_tablet:{type:"boolean",default:!1},pf_hide_on_computer:{type:"boolean",default:!1},pf_hidable:{type:"boolean",default:!1},pf_hidable_button_text:{type:"string",default:"x"},pf_hidable_button_text_color:{type:"string",default:"#fff"},pf_hidable_button_background_color:{type:"string",default:"#ff0000"},pf_hidable_button_height:{type:"number",default:30},pf_hidable_button_width:{type:"number",default:30},pf_hidable_button_position:{type:"string",default:"inline"}}}))),(0,t.addFilter)("editor.BlockEdit","wp-pattern-friend/add-device-visibility-controls",(0,a.createHigherOrderComponent)((t=>o=>{const{attributes:a}=o,{pf_hide_on_mobile:r,pf_hide_on_tablet:b,pf_hide_on_computer:d}=a;let u=(0,e.createElement)(t,{...o});if(r||b||d){let t=`\n\t\t\t\t\t${r?" pf-hide-on-mobile":""}\n\t\t\t\t\t${b?" pf-hide-on-tablet":""}\n\t\t\t\t\t${d?" pf-hide-on-desktop":""}\n\t\t\t\t\t`;u=(0,e.createElement)("div",{className:t},u)}return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(l.InspectorControls,null,(0,e.createElement)(n.Panel,{header:"Pattern Friend"},(0,e.createElement)(i,{...o}),(0,e.createElement)(_,{...o}))),u)})))})();